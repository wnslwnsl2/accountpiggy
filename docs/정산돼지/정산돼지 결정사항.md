# 정산돼지 결정사항 정리



### 지출 내역 페이지 결정사항

1) 추가하기 UI > collapse 이용한다.

2) **완료하고 추가 이체하기**

- 고려사항: 이전 입력 내역 중 어떤 정보를 다시 사용하고 싶어할까?
- 지출자(방장이면), 지출 참가자, 분류, 사용시간



### 정산하기 페이지

| 사안      | 보여 줄 내용이 무엇이 있으면 좋을까 |                                                              |
| --------- | ----------------------------------- | ------------------------------------------------------------ |
| 결정 사항 | 전체 그룹 정보                      | 분류 그래프<br />총 지출 금액/일별 평균 지출 금액<br />캔슬링 애니메이션 |
|           | 개인 정보                           | 분류 그래프<br />지출 금액<br />실질 경비<br />계좌 이체 내역 |
|           | 정산 내역 공유하기                  |                                                              |



#### 계좌이체 내역 보여주기 & 보냈다 받았다 기능

보냈다 받았다 기능

| 이체 내역 목록           | 이름,금액                                                    |      |
| ------------------------ | ------------------------------------------------------------ | ---- |
| 보냈다 버튼(보내는 입장) | 기본상태: 보냈다.(outline black)<br />대기상태: 확인중 (회색)<br />확인요청상태: 재확인요청(노란색)<br />정산완료: 회색 |      |
| 받았다 버튼              | 기본상태: 받았다.(outline black) 안왔는데?(disabled)<br />요청받은 상태: 받았다.(green) 안왔는데?(red) |      |
|                          |                                                              |      |



### 전체 계좌이체 내역 애니메이션으로 사용자(노드) 계좌이체 수(엣지)가 사라지는 과정을 멋있게 표현

1) 정산 캔슬링 내역을 로그로 담는다.

- Matrix : 0 또는 1
- 캔슬링 과정에서 log matrix도 변화시키고 저장
- 해당 log 데이터를 이용해서 애니메이션을 만들고, 이 애니메이션을 보여줌

2) 애니메이션 만들기

- 사용자들을 원형으로 배치
- 사용자끼리 정산 목록이 있으면 선을 이어줌 (사용자 - 사용자 별 color 다르게)
- 지정된 속도(ex 1초) 마다 log matix 를 반영함



### 더미에 대하여

|                                                              |                                                              |      |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ---- |
| 필요성                                                       | 1) **방장이 방을 만들고 바로 정산 내역을 기입하기에 필요하다.**<br />2) 사용하지 못하는 상태에 있는 사람이 사용할 수 있게 하기 위해 필요하다. |      |
| 발생하는 문제점                                              | 1) 더미를 만들어 놓고, 정산 내역을 기입해 놨는데 유저가 방에 들어올 경우<br />2) 지출 내역을 기입해줄 사람이 '방장'만 vs all<br />3) 정산 내역을 공유하는 것 |      |
| 1)더미를 만들어 놓고, <br />정산 내역을 기입해 놨는데 <br />해당 유저가 방에 들어올 경우 | 유저가 들어왔다<br />1) 유저가 처음 방에 들어왔을 때 (더미 중에 본인이 있는지 물어본다.)<br />2) 더미 목록 중 본인을 클릭한다.<br />2-1) 잘 못 클릭했을 경우 > 더미 선택하기 >재 선택<br /> |      |
| 2)지출 내역을 기입해줄 사람이 '방장'만 vs all                | 더미 지출 내역 관리는 '방장'만                               |      |
| 3)정산 내역을 공유하는 것                                    | 캡쳐 or txt 복사해서 보낸다.                                 |      |



### 멤버를 초대하는 것에 대하여

|                  |                                                              |
| ---------------- | ------------------------------------------------------------ |
| 링크를 보내는 것 | 방 url을 보낸다.                                             |
| 고려 사항        | 1) 초대한 사람만이 리셉션 페이지에 접근하게 하고 싶다.<br /> |
| 결정             | 방 url을 방코드로 보낸다. < url에서 id를 변경하여 다른 방으로 옮겨 다닐 수 없다. |



### 멤버가 잘 못 들어와서 강퇴를 할 경우에 대하여

| 사안                                        | 멤버가 잘 못 들어왔다.                                       |
| ------------------------------------------- | ------------------------------------------------------------ |
| 유저가 방을 나갈 수 있도록 하는 것에 대하여 | 유저가 나가면 더미로 변경되도록 한다.                        |
| 방장이 유저를 강퇴할 수 있는 것에 대하여    | 방장이 유저를 강퇴할 경우 더미로 변경되도록 한다.            |
| 해당 유저의 데이터에 관하여                 | 더미를 삭제 할 경우<br />- 더미가 사용한 내역은 모두 삭제한다.<br />- 더미가 참여된 내역에서는 더미를 제거한다. |



# 완료

### 방 정보 - 지출내역 - 정산내역 페이지 이동 UX/UI

| 안건      | 사용자가 방에서 활동할 때 - 방 정보/지출내역/정산내역 페이지 세개를 옮겨다닌다.<br />3개의 페이지(추후 추가 될 수 있음)를 사용자에게 어떻게 보여줄 지에 대해 결정이 필요하다. |
| --------- | ------------------------------------------------------------ |
| 고려 사항 | UX/UI 후보군<br />- 좌우 슬라이드 형<br />- 하단 버튼 형<br />- 전체 보여주기<br />- collapse 사용 |
| 결정 사항 | 하단 버튼 형으로 페이지 이동을 구현하겠다.                   |
| 결정 이유 | 사용자에게 보여주는 방법을 고민하는 이유는 사용자가 '처음' 들어와서 사용하기에 '직관'적이고 '친숙'하고 '편리'해야한다.<br />이를 만족시키는 UI는 하단 버튼 형 |



### 페이지의 권한 설정에 대하여

|              |                             |
| ------------ | --------------------------- |
| 유저(멤버)   | 모든 페이지 접근 가능       |
| 유저(비멤머) | 모든 페이지 > 리셉션 페이지 |
| 비유저       | 모든 페이지 > 로그인 페이지 |

